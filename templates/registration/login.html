<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الدخول</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        body { background: #f7f8fb; }
        .login-card { max-width: 420px; margin: 8vh auto; background: #fff; border-radius: 14px; box-shadow: 0 10px 30px rgba(0,0,0,0.07); }
        .login-card .card-body { padding: 28px; }
        .brand { display: flex; justify-content: center; margin-top: 24px; }
        .brand img { height: 64px; }
        .form-label { font-weight: 600; }
        .btn-primary { background: linear-gradient(135deg, #a89078 0%, #8b7765 100%); border: 0; padding: 10px 16px; border-radius: 10px; color: white; font-weight: 600; transition: all 0.3s; box-shadow: 0 2px 8px rgba(168, 144, 120, 0.3); }
        .btn-primary:hover { background: linear-gradient(135deg, #8b7765 0%, #a89078 100%); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(168, 144, 120, 0.4); }
        .btn-primary:disabled { opacity: .7; }
        .helper { display:flex; justify-content: space-between; align-items:center; margin-top: 6px; }
        .alert { border-radius: 10px; }
        .footer-links { text-align:center; margin: 16px 0 26px; }
        .footer-links a { text-decoration: none; }
    </style>
    {% if messages %}
    <script>
        setTimeout(() => { document.querySelectorAll('.alert').forEach(a => a.remove()); }, 4000);
    </script>
    {% endif %}
</head>
<body>
    <div class="brand">
        <a href="/">
            <img src="{% static 'images/logop.png' %}" alt="القمة العقارية">
        </a>
    </div>

    <div class="card login-card">
        <div class="card-body">
            <h4 class="text-center mb-3">تسجيل الدخول</h4>

            {% if error or form.errors %}
            <div class="alert alert-danger" role="alert">
                {{ error|default:"تأكد من اسم المستخدم وكلمة المرور." }}
            </div>
            {% endif %}

            <form method="post" action="{% url 'units:login' %}">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="id_username" class="form-label">اسم المستخدم</label>
                    <input type="text" name="username" autofocus required class="form-control" id="id_username" placeholder="مثال: admin">
                </div>
                <div class="mb-2">
                    <label for="id_password" class="form-label">كلمة المرور</label>
                    <input type="password" name="password" required class="form-control" id="id_password" placeholder="••••••••">
                </div>

                <div class="helper">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="remember" id="remember">
                        <label class="form-check-label" for="remember">تذكرني</label>
                    </div>
                </div>

                {% if next %}
                    <input type="hidden" name="next" value="{{ next }}">
                {% endif %}

                <button type="submit" class="btn btn-primary w-100 mt-3">دخول</button>
                <a href="/" class="btn btn-outline-secondary w-100 mt-2" style="border-color: #a89078; color: #8b7765; text-decoration: none; display: inline-block; text-align: center; padding: 10px 16px; border-radius: 10px; font-weight: 600;">العودة للصفحة الرئيسية</a>
            </form>
        </div>
    </div>

    <div class="footer-links">
        <a href="/">العودة للرئيسية</a> · <a href="/admin/">لوحة الإدارة</a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // "تذكرني" اختياري؛ عند تفعيله نمدد الجلسة عبر session cookie settings لاحقاً
    </script>
 </body>
 </html>





